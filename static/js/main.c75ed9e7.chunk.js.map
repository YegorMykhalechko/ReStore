{"version":3,"sources":["components/BookListItem/index.js","components/BookListItem/BookListItem.js","components/BookStoreServiceContext/BookStoreServiceContext.js","components/HOC/index.js","components/HOC/WithBookStoreService.js","actions/index.js","utils/index.js","utils/compose.js","components/Loader/index.js","components/Loader/Loader.js","components/ErrorIndicator/index.js","components/ErrorIndicator/ErrorIndicator.js","components/BookList/BookList.js","components/BookList/index.js","components/Pages/HomePage.js","components/ShoppingCartDetail/ShoppingCartDetail.js","components/ShoppingCartDetail/index.js","components/Pages/CardPage.js","components/Header/Header.js","components/Header/index.js","components/App/index.js","components/App/App.js","components/ErrorBoundry/index.js","components/ErrorBoundry/ErrorBoundry.js","services/BookStoreService.js","reducers/bookList.js","reducers/shopCart.js","reducers/index.js","store.js","index.js"],"names":["BookListItem","book","onAddToCart","title","author","price","coverImage","className","src","alt","onClick","React","createContext","BookStoreServiceProvider","Provider","BookStoreServiceConsumer","Consumer","withBookStoreService","Wrapped","props","BookStoreService","bookAddToCart","bookId","type","payload","bookRemoveFromCart","allBookRemoveFromCart","fetchBooks","dispatch","getBook","then","data","catch","err","compose","func","comp","reduceRight","wrapped","f","Loader","class","ErrorIndicator","xmlns","id","width","height","y","x","display","data-animator-group","data-animator-type","ry","rx","cy","cx","x1","y1","x2","y2","stroke-linejoin","stroke-linecap","BookList","books","map","BookListContainer","this","loading","error","Component","connect","bookList","ownProps","HomePage","mapDispatchToProps","onIncrease","onDecrease","onDelete","ShoppingCartDetail","shopCart","items","cartItems","total","orderTotal","item","idx","count","CardPage","Header","numItems","orderCount","to","App","role","path","component","exact","ErrorBoundry","state","hasError","setState","children","Promise","res","rej","setTimeout","Math","random","Error","updataBookList","action","undefined","updataCartItems","slice","updataOrder","quanity","find","itemIndex","findIndex","newItem","updataCartItem","totalPrice","reduce","acc","cur","updataShopCart","reducer","store","createStore","bookStoreService","ReactDOM","render","StrictMode","value","document","getElementById"],"mappings":"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","file":"static/js/main.c75ed9e7.chunk.js","sourcesContent":["import BookListItem from './BookListItem'\r\n\r\nexport default BookListItem","import React from 'react'\r\n\r\nimport './BookListItem.css'\r\n\r\nconst BookListItem = ({ book, onAddToCart }) => {\r\n    const { title, author, price, coverImage } = book\r\n    return (\r\n        <div className=\"book__list-item\">\r\n            <div className=\"book__cover\">\r\n                <img className=\"book__cover-image\" src={coverImage} alt={`cover-${title}`}></img>\r\n            </div>\r\n            <div className=\"book__details\">\r\n                <span className=\"book__title\">{title}</span>\r\n                <div className=\"book__author\">{author}</div>\r\n                <div className=\"book__price\">{price}$</div>\r\n                <button \r\n                    onClick = {onAddToCart}\r\n                    className=\"btn btn-info book__cart\">Add to Cart</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookListItem","import React from 'react'\r\n\r\nconst { Provider: BookStoreServiceProvider,\r\n        Consumer: BookStoreServiceConsumer } = React.createContext()\r\n\r\nexport {BookStoreServiceProvider, BookStoreServiceConsumer}","import withBookStoreService from './WithBookStoreService'\r\n\r\nexport default withBookStoreService","import React from 'react'\r\nimport { BookStoreServiceConsumer } from '../BookStoreServiceContext'\r\n\r\nconst withBookStoreService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return (\r\n            <BookStoreServiceConsumer>\r\n                {\r\n                    (BookStoreService) => {\r\n                        return <Wrapped {...props} BookStoreService={BookStoreService} />\r\n                    }\r\n                }\r\n            </BookStoreServiceConsumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withBookStoreService","const booksLoaded = (newBooks) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_LOADED',\r\n        payload: newBooks\r\n    }\r\n}\r\n\r\nconst booksRequested = () => {\r\n    return {\r\n        type: 'FETCH_BOOKS_SUCCESS'\r\n    }\r\n}\r\n\r\nconst booksError = (error) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_FAILURE',\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport const bookAddToCart = (bookId) => {\r\n    return{\r\n        type: 'BOOK_ADD_TO_CART',\r\n        payload: bookId\r\n    }\r\n}\r\n\r\nexport const bookRemoveFromCart = (bookId) => {\r\n    return{\r\n        type: 'BOOK_REMOVE_FROM_CART',\r\n        payload: bookId\r\n    }\r\n}\r\n\r\nexport const allBookRemoveFromCart = (bookId) => {\r\n    return{\r\n        type: 'ALL_BOOK_REMOVE_FROM_CART',\r\n        payload: bookId\r\n    }\r\n}\r\n\r\nconst fetchBooks = (BookStoreService, dispatch) => ()=> {\r\n    dispatch(booksRequested())\r\n    BookStoreService.getBook()\r\n        .then((data) => {\r\n            dispatch(booksLoaded(data))\r\n        })\r\n        .catch((err) => {\r\n            dispatch(booksError(err))\r\n        })\r\n}\r\n\r\n\r\nexport {fetchBooks}","import compose from './compose'\r\n\r\nexport default compose","const compose = (...func) => (comp) => {\r\n    return func.reduceRight(\r\n        (wrapped, f) => f(wrapped), comp)\r\n}\r\n\r\nexport default compose","import Loader from './Loader'\r\n\r\nexport default Loader","import React from 'react'\r\n\r\nimport './Loader.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div class=\"loader\">\r\n            Loading...\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader","import ErrorIndicator from './ErrorIndicator'\r\n\r\nexport default ErrorIndicator","import React from 'react'\r\n\r\nimport './ErrorIndicator.css'\r\n\r\nconst ErrorIndicator = () => {\r\n    return (\r\n        <div>\r\n            <div class=\"cycle\">\r\n\r\n                <h1>Oops</h1>\r\n                <h2> Something went wrong</h2>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"el_-TWBznsTc\" width=\"1880\" height=\"280\">\r\n                    <g id=\"el_C4SApqlqq9\">\r\n                        <title>background</title>\r\n                        <rect id=\"el_PRMgDsYyJA\" height=\"402\" width=\"582\" y=\"-1\" x=\"-1\" />\r\n                        <g display=\"none\" id=\"el_RdKFOW7DfK\">\r\n                            <rect y=\"0\" x=\"0\" height=\"100%\" width=\"100%\" id=\"el_WCV-rm_wAr\" />\r\n                        </g>\r\n                    </g>\r\n                    <g id=\"el_stL77T_DP_\">\r\n                        <title>Layer 1</title>\r\n                        <g id=\"el_q9ZiWXx2FT_92Gu6pVz-\" data-animator-group=\"true\" data-animator-type=\"1\"><g id=\"el_q9ZiWXx2FT\">\r\n                            <ellipse ry=\"51.5\" rx=\"52.5\" id=\"el_9OAkGMQhHt\" cy=\"220.921875\" cx=\"158.5\" />\r\n                            <line x1=\"158\" y1=\"173.421875\" x2=\"159\" y2=\"271.421875\" id=\"el_Bj_HtMcd_0\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                            <line x1=\"111\" y1=\"221.421875\" x2=\"212.000001\" y2=\"220.421875\" id=\"el_ALQa8qz3EZ\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                            <line x1=\"120.000004\" y1=\"186.421875\" x2=\"199\" y2=\"254.421875\" id=\"el_hMEibUohhS\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                            <line x1=\"121.999999\" y1=\"253.421877\" x2=\"196\" y2=\"189.421875\" id=\"el_gzr9MNgtcJ\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                        </g></g>\r\n                        <g id=\"el_qvoYAhk4wZ_4lvhItYYT\" data-animator-group=\"true\" data-animator-type=\"1\"><g id=\"el_qvoYAhk4wZ\">\r\n                            <ellipse ry=\"51.5\" rx=\"52.5\" id=\"el_KCYTv96caG\" cy=\"221.921875\" cx=\"371.5\" />\r\n                            <line x1=\"323\" y1=\"224.421875\" x2=\"427\" y2=\"223.421875\" id=\"el_gKjqL-sHeQ\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                            <line x1=\"373\" y1=\"174.421875\" x2=\"371\" y2=\"272.42187\" id=\"el_XBxGSZ7ar1\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                            <line x1=\"337\" y1=\"189.421875\" x2=\"414\" y2=\"258.421875\" id=\"el_JV3ocdtwtY6\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                            <line x1=\"337.000002\" y1=\"256.421874\" x2=\"414\" y2=\"188.421875\" id=\"el_RC8bEWHyy4P\" stroke-linejoin=\"null\" stroke-linecap=\"null\" />\r\n                        </g></g>\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_CkKjQD_kjMC\" y2=\"219.421875\" x2=\"370\" y1=\"217.421875\" x1=\"272\" />\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_UzdFhN9Tr_g\" y2=\"218.421875\" x2=\"367\" y1=\"137.421875\" x1=\"302\" />\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_XLk0DfiMMK0\" y2=\"137.421875\" x2=\"189.000006\" y1=\"140.421875\" x1=\"303\" />\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_iKGezHhihy6\" y2=\"220.421875\" x2=\"159\" y1=\"99.421875\" x1=\"206\" />\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_v3airVb5iBq\" y2=\"153.421871\" x2=\"183.000001\" y1=\"219.421875\" x1=\"274\" />\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_VHhZAchzx5G\" y2=\"90.421875\" x2=\"192\" y1=\"102.421875\" x1=\"205\" />\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_J8MXmJ1gywe\" y2=\"122.421875\" x2=\"309\" y1=\"218.421875\" x1=\"272\" />\r\n                        <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_GFQnrRDr7o9\" y2=\"68.421875\" x2=\"218\" y1=\"90.421875\" x1=\"192\" />\r\n                        <ellipse ry=\"5.5\" rx=\"26\" id=\"el_n6qUwfgig_3\" cy=\"115.921875\" cx=\"318\" />\r\n                        <ellipse ry=\"10\" rx=\"9.5\" id=\"el_eOgaPpZB4hI\" cy=\"221.421875\" cx=\"158.5\" />\r\n                        <ellipse ry=\"10\" rx=\"9.5\" id=\"el_KcbEK6cE6L4\" cy=\"222.421875\" cx=\"372.5\" />\r\n                        <g id=\"el_NNLWpvLfxMa_akhlpeM6l\" data-animator-group=\"true\" data-animator-type=\"1\"><g id=\"el_NNLWpvLfxMa\">\r\n                            <line stroke-linecap=\"null\" stroke-linejoin=\"null\" id=\"el_4LIOjZ_bWPN\" y2=\"245.421875\" x2=\"279\" y1=\"185.421875\" x1=\"265\" />\r\n                            <ellipse ry=\"2.5\" rx=\"11.000001\" id=\"el_hadg8EV6KIC\" cy=\"185.921875\" cx=\"260\" />\r\n                            <ellipse ry=\"2.5\" rx=\"11.000001\" id=\"el_hYdOb40x8kP\" cy=\"245.921875\" cx=\"282\" />\r\n                        </g></g>\r\n                    </g></svg>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorIndicator","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nimport BookListItem from '../BookListItem'\r\nimport withBookStoreService from '../HOC'\r\nimport { fetchBooks, bookAddToCart } from '../../actions'\r\nimport compose from '../../utils'\r\nimport Loader from '../Loader'\r\nimport ErrorIndicator from '../ErrorIndicator'\r\n\r\nimport './BookList.css'\r\n\r\nconst BookList = ({ books, onAddToCart }) => {\r\n    return (\r\n        <ul className=\"book__list\">\r\n            {\r\n                books.map((book) => {\r\n                    return (\r\n                        <li key={book.id}><BookListItem book={book} onAddToCart={() => onAddToCart(book.id)} /></li>\r\n                    )\r\n                })\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nclass BookListContainer extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchBooks()\r\n    }\r\n\r\n    render() {\r\n        const { books, loading, error, onAddToCart } = this.props\r\n        if (loading) {\r\n            return (\r\n                <Loader />\r\n            )\r\n        }\r\n        if (error) {\r\n            return (\r\n                <ErrorIndicator />\r\n            )\r\n        }\r\n        return <BookList books={books} onAddToCart={onAddToCart} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ bookList: { books, loading, error } }) => {\r\n    return {\r\n        books,\r\n        loading,\r\n        error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    const { BookStoreService } = ownProps\r\n    return {\r\n        fetchBooks: fetchBooks(BookStoreService, dispatch),\r\n        onAddToCart: (id) => dispatch(bookAddToCart(id))\r\n    }\r\n}\r\n\r\nexport default compose(withBookStoreService(),\r\n    connect(mapStateToProps, mapDispatchToProps))(BookListContainer)\r\n\r\n\r\n","import BookList from './BookList'\r\n\r\nexport default BookList","import React from 'react'\r\n\r\nimport BookList from '../BookList'\r\n\r\nconst HomePage = () => {\r\n    return (\r\n        <div>\r\n            <BookList />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { allBookRemoveFromCart, bookRemoveFromCart, bookAddToCart } from '../../actions'\r\n\r\nimport './ShoppingCartDetail.css'\r\n\r\nconst ShoppingCartDetail = ({ items, total, onIncrease, onDecrease, onDelete }) => {\r\n    const renderRow = (item, idx) => {\r\n        const { id, title, count, total } = item\r\n        return (\r\n            <tr key={id}>\r\n                <td>{idx + 1}</td>\r\n                <td>{title}</td>\r\n                <td>{count}</td>\r\n                <td>{total}$</td>\r\n                <td>\r\n                    <button\r\n                        onClick={() => onDelete(id)}\r\n                        className=\"btn btn-outline-danger btn-sm float-right cart__btn\">\r\n                        <i className=\"fa fa-trash-o\" />\r\n                    </button>\r\n                    <button\r\n                        onClick={() => onIncrease(id)}\r\n                        className=\"btn btn-outline-success btn-sm float-right cart__btn\">\r\n                        <i className=\"fa fa-plus-circle\" />\r\n                    </button>\r\n                    <button\r\n                        onClick={() => onDecrease(id)}\r\n                        className=\"btn btn-outline-warning btn-sm float-right cart__btn\">\r\n                        <i className=\"fa fa-minus-circle\" />\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"cart__detail\">\r\n            <h2>Your Order</h2>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Item</th>\r\n                        <th>Count</th>\r\n                        <th>Price</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {items.map(renderRow)}\r\n                </tbody>\r\n            </table>\r\n\r\n            <div className=\"cart__total\">\r\n                Total: {total}$\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({shopCart: { cartItems, orderTotal }}) => {\r\n    return {\r\n        items: cartItems,\r\n        total: orderTotal\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n        onIncrease: bookAddToCart,\r\n        onDecrease: bookRemoveFromCart,\r\n        onDelete: allBookRemoveFromCart\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartDetail)","import ShoppingCartDetail from './ShoppingCartDetail'\r\n\r\nexport default ShoppingCartDetail","import React from 'react'\r\n\r\nimport ShoppingCartDetail from '../ShoppingCartDetail'\r\n\r\nconst CardPage = () => {\r\n    return (\r\n        <div>\r\n            <ShoppingCartDetail />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardPage","import React from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { allBookRemoveFromCart, bookRemoveFromCart, bookAddToCart } from '../../actions'\r\n\r\nimport './Header.css'\r\n\r\nconst Header = ({ numItems, total }) => {\r\n    return (\r\n        <header className='book__header row'>\r\n            <Link to='/'>\r\n                <div className='book__logo text-dark'>ReStore</div>\r\n            </Link>\r\n            <Link to='/card'>\r\n                <div className=\"book-cart\">\r\n                    <i className=\"book-cart__logo fa fa-shopping-cart\"></i>\r\n                    {numItems} items ({total}$)\r\n                </div>\r\n            </Link>\r\n        </header>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({shopCart: { orderTotal, orderCount }}) => {\r\n    return {\r\n        numItems: orderCount,\r\n        total: orderTotal\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onIncrease: bookAddToCart,\r\n    onDecrease: bookRemoveFromCart,\r\n    onDelete: allBookRemoveFromCart\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import Header from './Header'\r\n\r\nexport default Header","import App from './App'\r\n\r\nexport default App","import React from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\n\r\nimport { HomePage, CardPage } from '../Pages'\r\nimport Header from '../Header'\r\n\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n    return (\r\n        <main role=\"main\" className=\"container\">\r\n            <Header />\r\n            <Switch>\r\n                <Route\r\n                    path='/'\r\n                    component={HomePage}\r\n                    exact\r\n                />\r\n                <Route\r\n                    path='/card'\r\n                    component={CardPage}\r\n                />\r\n            </Switch>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default App","import ErrorBoundry from './ErrorBoundry'\r\n\r\nexport default ErrorBoundry","import React, { Component } from 'react'\r\nimport ErrorIndicator from '../ErrorIndicator'\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    state = {\r\n        hasError: false\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({ hasError: true })\r\n    }\r\n\r\n    render() {\r\n        const {hasError} = this.state\r\n\r\n        if(hasError){\r\n            return(\r\n                <ErrorIndicator />\r\n            )\r\n        }\r\n        return (\r\n            this.props.children\r\n        )\r\n    }\r\n\r\n}\r\n\r\n","export default class BookStoreService {\r\n\r\n    data = [{\r\n        id: 1,\r\n        title: 'Java Script for lousers',\r\n        author: 'Human',\r\n        price: 10,\r\n        coverImage: 'https://chubarov.if.ua/images/book_design_2.jpg?crc=502489758'\r\n    },\r\n    {\r\n        id: 2,\r\n        title: 'Java Script for lousers 2',\r\n        author: 'Human',\r\n        price: 20,\r\n        coverImage: 'https://chubarov.if.ua/images/book_design_2.jpg?crc=502489758'\r\n    },\r\n    {\r\n        id: 3,\r\n        title: 'Java Script for lousers 2',\r\n        author: 'Human',\r\n        price: 40,\r\n        coverImage: 'https://chubarov.if.ua/images/book_design_2.jpg?crc=502489758'\r\n    }]\r\n\r\n    getBook() {\r\n        return new Promise((res, rej) => {\r\n            setTimeout(() => {\r\n                if (Math.random() > 0.75) {\r\n                    rej(new Error('oops'))\r\n                }\r\n                res(this.data)\r\n            }, 800)\r\n        })\r\n    }\r\n\r\n}","const updataBookList = (state, action) => {\r\n    if (state === undefined) {\r\n        return {\r\n            books: [],\r\n            loading: true,\r\n            error: null\r\n        }\r\n    }\r\n    switch (action.type) {\r\n        case 'FETCH_BOOKS_SUCCESS':\r\n            return {\r\n                books: [],\r\n                loading: true,\r\n                error: null\r\n            }\r\n        case 'FETCH_BOOKS_LOADED':\r\n            return {\r\n                books: action.payload,\r\n                loading: false,\r\n                error: null\r\n            }\r\n        case 'FETCH_BOOKS_FAILURE':\r\n            return {\r\n                books: [],\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default:\r\n            return state.bookList\r\n    }\r\n}\r\n\r\nexport default updataBookList","const updataCartItems = (cartItems, item, idx) => {\r\n    if (item.count === 0) {\r\n        return [\r\n            ...cartItems.slice(0, idx),\r\n            ...cartItems.slice(idx + 1),\r\n        ]\r\n    }\r\n    if (idx === -1) {\r\n        return [\r\n            ...cartItems,\r\n            item\r\n        ]\r\n    }\r\n    return [\r\n        ...cartItems.slice(0, idx),\r\n        item,\r\n        ...cartItems.slice(idx + 1),\r\n    ]\r\n}\r\n\r\nconst updataCartItem = (book, item, quanity) => {\r\n    if (item) {\r\n        return {\r\n            ...item,\r\n            count: item.count + quanity,\r\n            total: item.total + quanity * book.price\r\n        }\r\n    }\r\n    return {\r\n        id: book.id,\r\n        title: book.title,\r\n        count: 1,\r\n        total: book.price\r\n    }\r\n}\r\n\r\nconst updataOrder = (state, bookId, quanity) => {\r\n    const { bookList: { books }, shopCart: { cartItems } } = state\r\n    const book = books.find((book) => book.id === bookId)\r\n    const itemIndex = cartItems.findIndex(({ id }) => id === bookId)\r\n    const item = cartItems[itemIndex]\r\n\r\n    const newItem = updataCartItem(book, item, quanity)\r\n\r\n    const totalPrice = cartItems.reduce((acc,cur)=>acc+cur.total, book.price * quanity)\r\n    const totalCount = cartItems.reduce((acc,cur)=>acc+cur.count, quanity)\r\n    \r\n    return {\r\n        orderCount: totalCount,\r\n        orderTotal: totalPrice,\r\n        cartItems: updataCartItems(cartItems, newItem, itemIndex)\r\n    }\r\n}\r\n\r\nconst updataShopCart = (state, action) => {\r\n    if (state === undefined) {\r\n        return {\r\n            cartItems: [],\r\n            orderTotal: 0\r\n        }\r\n    }\r\n    switch (action.type) {\r\n        case 'BOOK_ADD_TO_CART':\r\n            return updataOrder(state, action.payload, 1)\r\n\r\n        case 'BOOK_REMOVE_FROM_CART':\r\n            return updataOrder(state, action.payload, -1)\r\n\r\n        case 'ALL_BOOK_REMOVE_FROM_CART':\r\n            const item = state.shopCart.cartItems.find(({ id }) => id === action.payload)\r\n            return updataOrder(state, action.payload, -item.count)\r\n        default:\r\n            return state.shopCart\r\n    }\r\n}\r\n\r\nexport default updataShopCart","import updataBookList from './bookList'\r\nimport updataShopCart from './shopCart'\r\n\r\nconst reducer = (state, action) => {\r\n    return {\r\n        bookList: updataBookList(state, action),\r\n        shopCart: updataShopCart(state, action)\r\n    }\r\n}\r\n\r\nexport default reducer","import { createStore } from 'redux'\r\n\r\nimport reducer from './reducers'\r\n\r\nconst store = createStore(reducer)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {Provider} from 'react-redux'\nimport {BrowserRouter as Router} from 'react-router-dom'\n\nimport App from './components/App'\nimport ErrorBoundry from './components/ErrorBoundry'\nimport BookStoreService from './services/BookStoreService'\nimport {BookStoreServiceProvider} from './components/BookStoreServiceContext'\n\nimport store from './store'\n\nconst bookStoreService = new BookStoreService()\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ErrorBoundry>\n        <BookStoreServiceProvider value={bookStoreService}>\n          <Router>\n            <App />\n          </Router>\n        </BookStoreServiceProvider>\n      </ErrorBoundry>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}